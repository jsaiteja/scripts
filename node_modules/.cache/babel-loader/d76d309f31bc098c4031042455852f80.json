{"ast":null,"code":"var _jsxFileName = \"/home/driveboard/driveboardFrontend/workingdriveboard/src/components/Stepper/FileUpload.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Progress } from \"reactstrap\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass FileUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeHandler = event => {\n      console.log(event.target.files);\n\n      if (this.maxSelectedFile(event) && // this.checkMimeType(event) &&\n      this.checkFileSize(event)) {\n        this.setState({\n          selectedFile: event.target.files,\n          loaded: 0\n        });\n      }\n    };\n\n    this.onChangeHandler1 = event => {\n      console.log(event.target.files);\n\n      if (this.maxSelectedFile(event) && // this.checkMimeType(event) &&\n      this.checkFileSize(event)) {\n        this.setState({\n          JsonKey: event.target.files,\n          loaded1: 0\n        });\n      }\n    };\n\n    this.checkFileSize = event => {\n      let files = event.target.files;\n      let size = 250000000; // let err = \"\";\n\n      let err = [];\n\n      for (var x = 0; x < files.length; x++) {\n        if (files[x].size > size) {\n          err[x] += files[x].type + \"is too large, please pick a smaller file\\n\";\n        }\n      } // if (err !== \"\") {\n      //   event.target.value = null;\n      //   console.log(err);\n      //   return false;\n      // }\n\n\n      for (let z = 0; z < err.length; z++) {\n        toast.error(err[z]);\n        event.target.value = null;\n      }\n\n      return true;\n    };\n\n    this.maxSelectedFile = event => {\n      let files = event.target.files;\n\n      if (files.length > 3) {\n        const message = \"Only 3 messages can be uploaded at a time\";\n        event.target.value = null;\n        toast.warn(message);\n        console.log(message);\n        return false;\n      }\n\n      return true;\n    };\n\n    this.onClickHandler = e => {\n      console.log(this.state.selectedFile);\n      console.log(e.target.value);\n      const data = new FormData();\n\n      for (let x = 0; x < this.state.selectedFile.length; x++) {\n        data.append(\"file\", this.state.selectedFile[x]);\n      }\n\n      console.log(\"project name\", this.props.projectName);\n      data.append(\"ProjectName\", this.props.projectName);\n      console.log(data);\n      axios.post(\"http://35.237.232.109:8000/upload/\", data, {\n        onUploadProgress: progressEvent => {\n          console.log(progressEvent.loaded / progressEvent.total);\n          this.setState({\n            loaded: progressEvent.loaded / progressEvent.total * 100\n          });\n        }\n      }).then(res => {\n        console.log(res.statusText);\n        toast.success(\"upload success\");\n      }).catch(err => {\n        toast.error(\"upload fail\");\n      });\n    };\n\n    this.onClickHandler1 = e => {\n      console.log(this.state.JsonKey);\n      console.log(e.target.value);\n      const data = new FormData();\n\n      for (let x = 0; x < this.state.JsonKey.length; x++) {\n        data.append(\"file\", this.state.JsonKey[x]);\n      }\n\n      data.append(\"ProjectName\", this.props.projectName);\n      console.log(data);\n      axios.post(\"http://35.237.232.109:8000/upload/\", data, {\n        onUploadProgress: progressEvent => {\n          console.log(progressEvent.loaded / progressEvent.total);\n          this.setState({\n            loaded1: progressEvent.loaded / progressEvent.total * 100\n          });\n        }\n      }).then(res => {\n        console.log(res.statusText);\n        toast.success(\"upload success\");\n      }).catch(err => {\n        toast.error(\"upload fail\");\n      });\n    };\n\n    console.log(\"props object in upload\", this.props.projectName);\n    this.state = {\n      selectedFile: null,\n      loaded: 0,\n      JsonKey: null,\n      loaded1: 0,\n      ProjectName: \"\"\n    };\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      selectedFile: this.props.selectedFile\n    });\n    this.setState({\n      JsonKey: this.props.JsonKey\n    });\n    this.setState({\n      loaded: this.props.loaded\n    });\n    this.setState({\n      loaded1: this.props.loaded1\n    });\n    this.setState({\n      projectName: this.props.projectName\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      multiple: true,\n      onChange: this.onChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), this.state.selectedFile && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(Progress, {\n      max: \"100\",\n      color: \"success\",\n      value: this.state.loaded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, Math.round(this.state.loaded, 2), \"%\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary btn-block\",\n      onClick: this.onClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Upload\")), this.state.JsonKey && React.createElement(React.Fragment, null, React.createElement(Progress, {\n      max: \"100\",\n      color: \"success\",\n      value: this.state.loaded1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, Math.round(this.state.loaded1, 2), \"%\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary btn-block\",\n      onClick: this.onClickHandler1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Upload\"))));\n  }\n\n}\n\nexport default FileUpload;","map":{"version":3,"sources":["/home/driveboard/driveboardFrontend/workingdriveboard/src/components/Stepper/FileUpload.jsx"],"names":["React","Component","axios","Progress","ToastContainer","toast","FileUpload","constructor","props","onChangeHandler","event","console","log","target","files","maxSelectedFile","checkFileSize","setState","selectedFile","loaded","onChangeHandler1","JsonKey","loaded1","size","err","x","length","type","z","error","value","message","warn","onClickHandler","e","state","data","FormData","append","projectName","post","onUploadProgress","progressEvent","total","then","res","statusText","success","catch","onClickHandler1","ProjectName","componentWillUnmount","render","Math","round"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Progress } from \"reactstrap\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nclass FileUpload extends Component {\n  constructor(props) {\n    super(props);\n    console.log(\"props object in upload\", this.props.projectName);\n    this.state = {\n      selectedFile: null,\n      loaded: 0,\n      JsonKey: null,\n      loaded1: 0,\n      ProjectName: \"\"\n    };\n  }\n  componentWillUnmount() {\n    this.setState({ selectedFile: this.props.selectedFile });\n    this.setState({ JsonKey: this.props.JsonKey });\n    this.setState({ loaded: this.props.loaded });\n    this.setState({ loaded1: this.props.loaded1 });\n    this.setState({ projectName: this.props.projectName });\n  }\n  onChangeHandler = event => {\n    console.log(event.target.files);\n    if (\n      this.maxSelectedFile(event) &&\n      // this.checkMimeType(event) &&\n      this.checkFileSize(event)\n    ) {\n      this.setState({\n        selectedFile: event.target.files,\n        loaded: 0\n      });\n    }\n  };\n  onChangeHandler1 = event => {\n    console.log(event.target.files);\n    if (\n      this.maxSelectedFile(event) &&\n      // this.checkMimeType(event) &&\n      this.checkFileSize(event)\n    ) {\n      this.setState({\n        JsonKey: event.target.files,\n        loaded1: 0\n      });\n    }\n  };\n  // checkMimeType = event => {\n  //   let files = event.target.files;\n  //   let err = \"\";\n\n  //   const types = [\n  //     \"application/json\",\n  //     \"application/octet-stream\",\n  //     \"application/x-yaml\",\n  //     \"application/yaml\",\n  //     \"text/vnd.yaml\",\n  //     \"application/pdf\",\n  //     \"text/yaml\",\n  //     \"text/x-yaml\",\n  //     \"application/xml\",\n  //     \"image/png\",\n  //     \"image/jpeg\",\n  //     \"image/gif\",\n  //     \"application/zip\",\n  //     \"application/pdf\",\n  //     \"application/java-archive\"\n  //   ];\n\n  //   for (let x = 0; x < files.length; x++) {\n  //     if (types.every(type => files[x].type !== type)) {\n  //       err[x] += files[x].type + \" is not a supported format\\n\";\n  //     }\n  //   }\n  //   for (let z = 0; z < err.length; z++) {\n  //     // discard selected file\n  //     toast.error(err[z]);\n  //     event.target.value = null;\n  //   }\n  //   return true;\n  // };\n  checkFileSize = event => {\n    let files = event.target.files;\n    let size = 250000000;\n    // let err = \"\";\n    let err = [];\n    for (var x = 0; x < files.length; x++) {\n      if (files[x].size > size) {\n        err[x] += files[x].type + \"is too large, please pick a smaller file\\n\";\n      }\n    }\n    // if (err !== \"\") {\n    //   event.target.value = null;\n    //   console.log(err);\n    //   return false;\n    // }\n    for (let z = 0; z < err.length; z++) {\n      toast.error(err[z]);\n      event.target.value = null;\n    }\n\n    return true;\n  };\n  maxSelectedFile = event => {\n    let files = event.target.files;\n    if (files.length > 3) {\n      const message = \"Only 3 messages can be uploaded at a time\";\n      event.target.value = null;\n      toast.warn(message);\n      console.log(message);\n      return false;\n    }\n    return true;\n  };\n  onClickHandler = e => {\n    console.log(this.state.selectedFile);\n    console.log(e.target.value);\n    const data = new FormData();\n    for (let x = 0; x < this.state.selectedFile.length; x++) {\n      data.append(\"file\", this.state.selectedFile[x]);\n    }\n    console.log(\"project name\", this.props.projectName);\n    data.append(\"ProjectName\", this.props.projectName);\n    console.log(data);\n\n    axios\n      .post(\"http://35.237.232.109:8000/upload/\", data, {\n        onUploadProgress: progressEvent => {\n          console.log(progressEvent.loaded / progressEvent.total);\n          this.setState({\n            loaded: (progressEvent.loaded / progressEvent.total) * 100\n          });\n        }\n      })\n      .then(res => {\n        console.log(res.statusText);\n        toast.success(\"upload success\");\n      })\n\n      .catch(err => {\n        toast.error(\"upload fail\");\n      });\n  };\n\n  onClickHandler1 = e => {\n    console.log(this.state.JsonKey);\n    console.log(e.target.value);\n    const data = new FormData();\n    for (let x = 0; x < this.state.JsonKey.length; x++) {\n      data.append(\"file\", this.state.JsonKey[x]);\n    }\n    data.append(\"ProjectName\", this.props.projectName);\n\n    console.log(data);\n\n    axios\n      .post(\"http://35.237.232.109:8000/upload/\", data, {\n        onUploadProgress: progressEvent => {\n          console.log(progressEvent.loaded / progressEvent.total);\n          this.setState({\n            loaded1: (progressEvent.loaded / progressEvent.total) * 100\n          });\n        }\n      })\n      .then(res => {\n        console.log(res.statusText);\n        toast.success(\"upload success\");\n      })\n\n      .catch(err => {\n        toast.error(\"upload fail\");\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        {/* {this.state.selectedFile !== null && this.state.JsonKey === null && (\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            multiple\n            onChange={this.onChangeHandler}\n            value={this.state.selectedFile}\n          />\n        )}\n        {this.state.JsonKey !== null && this.state.selectedFile === null && (\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            multiple\n            onChange={this.onChangeHandler}\n            value={this.state.JsonKey}\n          />\n        )}\n        {this.state.selectedFile !== null && this.state.JsonKey !== null && (\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            multiple\n            onChange={this.onChangeHandler}\n          />\n        )}\n        {this.state.selectedFile === null && this.state.JsonKey === null && (\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            multiple\n            onChange={this.onChangeHandler}\n          />\n        )} */}\n        <input\n          type=\"file\"\n          className=\"form-control\"\n          multiple\n          onChange={this.onChangeHandler}\n        />\n        <br />\n        <div className=\"form-group\">\n          <ToastContainer />\n          {this.state.selectedFile && (\n            <div>\n              <Progress max=\"100\" color=\"success\" value={this.state.loaded}>\n                {Math.round(this.state.loaded, 2)}%\n              </Progress>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-block\"\n                onClick={this.onClickHandler}\n              >\n                Upload\n              </button>\n            </div>\n          )}\n          {this.state.JsonKey && (\n            <>\n              <Progress max=\"100\" color=\"success\" value={this.state.loaded1}>\n                {Math.round(this.state.loaded1, 2)}%\n              </Progress>\n\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-block\"\n                onClick={this.onClickHandler1}\n              >\n                Upload\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FileUpload;\n"]},"metadata":{},"sourceType":"module"}